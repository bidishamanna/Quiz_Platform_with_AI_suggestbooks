{% extends 'base.html' %}
{% load static %}

{% block title %}Register{% endblock %}

{% block content %}
{% include 'includes/navbar.html' %}

<div class="container mt-5">
  <h3 class="text-center text-primary">Student Registration</h3>

  <form method="post" id="signupForm" novalidate>
    {% csrf_token %}

    <div class="form-group mb-3">
      <label for="username">Username:</label>
      <input type="text" class="form-control" id="username" name="username" required>
      <div class="text-danger" id="username_error"></div>
    </div>

    <div class="form-group mb-3">
      <label for="email">Email:</label>
      <input type="email" class="form-control" id="email" name="email" required>
      <div class="text-danger" id="email_error"></div>
    </div>

    <div class="form-group mb-3">
      <label for="password">Password:</label>
      <input type="password" class="form-control" id="password" name="password" required>
      <div class="text-danger" id="password_error"></div>
    </div>

    <div class="form-group mb-3">
      <label for="confirm_password">Confirm Password:</label>
      <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
      <div class="text-danger" id="confirm_password_error"></div>
    </div>

    <!-- Hidden role -->
    <input type="hidden" name="role" id="role" value="student">

    <div class="form-group mb-3" id="acknowledge"></div>

    <button type="submit" class="btn btn-success" id="signup_btn" disabled>Register</button>
  </form>

  <!-- Spinner Overlay -->
  <div id="spinner-overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.7); z-index:9999; text-align:center;">
    <div class="spinner-border text-primary" role="status" style="position:relative; top:40%; width: 4rem; height: 4rem;">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="fw-semibold text-dark mt-3">Sending verification email...</p>
  </div>
</div>

{% endblock %}
